
<br>
<%= form_for([@riesgo, valoration_risk], local: true) do |form| %>
  <% if valoration_risk.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(valoration_risk.errors.count, "error") %> prohibited this valoration_risk from being saved:</h2>

      <ul>
      <% valoration_risk.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<div class="row">

    <div class="col-md-12">
           <div class="field">
             <%= form.label "¿El Riesgo Tiene controles actuales?" %>
             <%= form.check_box :controls, class: "", id: "toggle-one"  %>
          </div>
    </div>
  
</div>

<hr>

<div class="row">
   <div class="col-md-9">
      <div class="row">
<div class="col-md-12 indicador">
    <p>Indicador de probabilidad de que <%=@riesgo.descripcion%></p>
</div>


<div class="col-md-4">
     <h4>Nivel de Deficiencia</h4>

    <div class="funkyradio">
        <div class="funkyradio-success">
            <%= form.radio_button :nd_value, 10 , id: "radio1", class: "radio-nd"  %>
            <label for="radio1" >10 - Muy Alto</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :nd_value, 6, id: "radio2", class: "radio-nd" %>
            <label for="radio2">6 - Alto</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :nd_value,2 , id: "radio3" , class: "radio-nd"%>
            <label for="radio3">2 - Medio</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :nd_value, 1, id: "radio4", class: "radio-nd" %>
            <label for="radio4">1 - Bajo</label>
        </div>
        <input type="hidden" name="nd_value_h" id="nd" value="10">
    </div>
</div>
<div class="col-md-4">
     <h4>Nivel de Exposicion</h4>

    <div class="funkyradio">
        <div class="funkyradio-success">
            <%= form.radio_button :ne_value, 4 , id: "radio5" , class: "radio-ne" %>
            <label for="radio5">4 - Continua (EC)</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :ne_value, 3, id: "radio6" , class: "radio-ne" %>
            <label for="radio6">3 - Frecuente (EF)</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :ne_value,2 , id: "radio7" , class: "radio-ne" %>
            <label for="radio7">2 - Ocacional (EO)</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :ne_value, 1, id: "radio8" , class: "radio-ne"%>
            <label for="radio8">1 - Exporádica (EE)</label>
        </div>
     <input type="hidden" name="ne_value_h" id = "ne"  value="20">
    </div>
</div>
<div class="col-md-4">

      <span class="badged" id="np">0</span>
  
</div>

</div>
<hr>
<div class="row">
  

<div class="col-md-12 indicador" >
    <p >Consecuencia de <%=@riesgo.descripcion%></p>
</div>
<div class="col-md-4">
     <h4>Nivel de Consecuencia</h4>

    <div class="funkyradio">
        <div class="funkyradio-success">
            <%= form.radio_button :nc_value, 4 , id: "radio9" %>
            <label for="radio9">Mortal o Catastrófico (M)</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :nc_value, 3, id: "radio10" %>
            <label for="radio10">Muy Grave (MG)</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :nc_value,3 , id: "radio11" %>
            <label for="radio11">Grave (G)</label>
        </div>
        <div class="funkyradio-success">
            <%= form.radio_button :nc_value, 1, id: "radio12" %>
            <label for="radio12">Leve (L)</label>
        </div>

    </div>
</div>


  
</div>
   </div>

   <div class="col-md-3">
     
   </div>
</div>

 

  

  
<div class="row">
    <div class="col-md-12">
        <div class="field">
    <%= form.label :analysis %>
    <%= form.text_area :analysis, id: :valoration_risk_analysis, class: "form form-control" %>
  </div>
    </div>
  
</div>
  
<hr>
<div class="row">
    <div class="col-md-12 text-center">
  <div class="actions">
    <%= form.submit "Guardar" , class: "btn btn-primary btn-lg"%>
  </div>
</div>
</div>

<% end %>




<script>
    $(document).ready(function(){
     $(function() {
       $('#toggle-one').bootstrapToggle({
            on: 'Si',
            off: 'No'
          });
     });
   });   
</script>


<style>
.toggle-on.btn {
    
    color: white !important;
}
.indicador p
{
  font-size: 16px;

}


.indicador 
{
  /*height: 230px;*/
}
</style>


<style type="text/css" media="screen">



.funkyradio div {
  clear: both;
  overflow: hidden;
}

.funkyradio label {
  width: 100%;
  border-radius: 3px;
  border: 1px solid #D1D3D4;
  font-weight: normal;
}

.funkyradio input[type="radio"]:empty,
.funkyradio input[type="checkbox"]:empty {
  display: none;
}

.funkyradio input[type="radio"]:empty ~ label,
.funkyradio input[type="checkbox"]:empty ~ label {
  position: relative;
  line-height: 2.5em;
  text-indent: 3.25em;
  margin-top: 5px;
  cursor: pointer;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.funkyradio input[type="radio"]:empty ~ label:before,
.funkyradio input[type="checkbox"]:empty ~ label:before {
  position: absolute;
  display: block;
  top: 0;
  bottom: 0;
  left: 0;
  content: '';
  width: 2.5em;
  background: #D1D3D4;
  border-radius: 3px 0 0 3px;
}

.funkyradio input[type="radio"]:hover:not(:checked) ~ label,
.funkyradio input[type="checkbox"]:hover:not(:checked) ~ label {
  color: #888;
}

.funkyradio input[type="radio"]:hover:not(:checked) ~ label:before,
.funkyradio input[type="checkbox"]:hover:not(:checked) ~ label:before {
  content: '\2714';
  text-indent: .9em;
  color: #C2C2C2;
}

.funkyradio input[type="radio"]:checked ~ label,
.funkyradio input[type="checkbox"]:checked ~ label {
  color: #777;
}

.funkyradio input[type="radio"]:checked ~ label:before,
.funkyradio input[type="checkbox"]:checked ~ label:before {
  content: '\2714';
  text-indent: .9em;
  color: #333;
  background-color: #ccc;
}

.funkyradio input[type="radio"]:focus ~ label:before,
.funkyradio input[type="checkbox"]:focus ~ label:before {
  box-shadow: 0 0 0 3px #999;
}

.funkyradio-default input[type="radio"]:checked ~ label:before,
.funkyradio-default input[type="checkbox"]:checked ~ label:before {
  color: #333;
  background-color: #ccc;
}

.funkyradio-primary input[type="radio"]:checked ~ label:before,
.funkyradio-primary input[type="checkbox"]:checked ~ label:before {
  color: #fff;
  background-color: #337ab7;
}

.funkyradio-success input[type="radio"]:checked ~ label:before,
.funkyradio-success input[type="checkbox"]:checked ~ label:before {
  color: #fff;
  background-color: #5cb85c;
}

.funkyradio-danger input[type="radio"]:checked ~ label:before,
.funkyradio-danger input[type="checkbox"]:checked ~ label:before {
  color: #fff;
  background-color: #d9534f;
}

.funkyradio-warning input[type="radio"]:checked ~ label:before,
.funkyradio-warning input[type="checkbox"]:checked ~ label:before {
  color: #fff;
  background-color: #f0ad4e;
}

.funkyradio-info input[type="radio"]:checked ~ label:before,
.funkyradio-info input[type="checkbox"]:checked ~ label:before {
  color: #fff;
  background-color: #5bc0de;
}
  
</style>

<script>
  
    $('.radio-nd').click(function(){
        
        var nd =  $(this).val();
        var ne =  $('#ne').val();
        $("#nd").val(nd);
        console.log(nd)
        $("#np").text(parseInt(nd) * parseInt(ne));
        var np = parseInt(nd) * parseInt(ne)
        
        switch(np) {
              case np <= 40 && np >= 20:
                  code block
                  break;
              case np <= 20 && np >= 10:
                  code block
                  break;
              case np <= 8 && np >= 6:
                  code block
                  break;
              case np <= 4 && np >= 2:
                  code block
                  break;

  
       }
 





    })
      $('.radio-ne').click(function(){
        var ne =  $(this).val();
        var nd =  $('#nd').val();
        $("#ne").val(ne);
        $("#np").text(parseInt(nd) * parseInt(ne));

        var np = parseInt(nd) * parseInt(ne)
        
        switch(np) {
              case np <= 40 && np >= 20:
                  code block
                  break;
              case np <= 20 && np >= 10:
                  code block
                  break;
              case np <= 8 && np >= 6:
                  code block
                  break;
              case np <= 4 && np >= 2:
                  code block
                  break;

  
       }

    })

</script>